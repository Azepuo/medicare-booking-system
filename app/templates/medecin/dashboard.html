{% extends "medecin/base.html" %}

{% block title %}Dashboard ‚Ä¢ M√©decin{% endblock %}

{% block body_id %}dashboard-page{% endblock %}

{% block content %}
<div class="header-row">
  <h1 class="h1">Tableau de Bord</h1>
  <button class="btn" onclick="refreshData()">
    <i class="fas fa-sync-alt"></i> Actualiser
  </button>
</div>

<div class="grid">
  <div class="card card-primary">
    <h3>Rendez-vous Aujourd'hui</h3>
    <p>12</p>
    <div class="card-icon">üìÖ</div>
    <div class="small" style="color: rgba(255,255,255,0.8);">Patients programm√©s</div>
  </div>
  
  <div class="card card-success">
    <h3>Patients du Mois</h3>
    <p>45</p>
    <div class="card-icon">üë•</div>
    <div class="small" style="color: rgba(255,255,255,0.8);">Nouveaux patients</div>
  </div>
  
  <div class="card card-warning">
    <h3>Taux de Satisfaction</h3>
    <p>4.8/5</p>
    <div class="card-icon">‚≠ê</div>
    <div class="small" style="color: rgba(255,255,255,0.8);">Bas√© sur 128 avis</div>
  </div>
</div>

<div class="card">
  <div class="header-row">
    <h3>Prochains Rendez-vous</h3>
    <button class="btn">
      <i class="fas fa-plus"></i> Nouveau RDV
    </button>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>Heure</th>
        <th>Patient</th>
        <th>Motif</th>
        <th>Statut</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>09:00</td>
        <td>Marie Dupont</td>
        <td>Consultation g√©n√©rale</td>
        <td>Confirm√©</td>
        <td>
          <button class="btn secondary">
            <i class="fas fa-play"></i> D√©marrer
          </button>
        </td>
      </tr>
      <tr>
        <td>10:30</td>
        <td>Pierre Martin</td>
        <td>Suivi traitement</td>
        <td>Confirm√©</td>
        <td>
          <button class="btn secondary">
            <i class="fas fa-play"></i> D√©marrer
          </button>
        </td>
      </tr>
      <tr>
        <td>14:00</td>
        <td>Sophie Lambert</td>
        <td>Urgence</td>
        <td>En attente</td>
        <td>
          <button class="btn secondary">
            <i class="fas fa-clock"></i> Attente
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Graphique des statistiques -->
<div class="card">
  <div class="header-row">
    <h3>Activit√© R√©cente</h3>
  </div>
  <canvas id="activityChart" height="100"></canvas>
</div>

<script>
function refreshData() {
  alert('Donn√©es actualis√©es !');
}

// Graphique des statistiques
document.addEventListener('DOMContentLoaded', function() {
  const ctx = document.getElementById('activityChart').getContext('2d');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
      datasets: [{
        label: 'Rendez-vous',
        data: [12, 15, 8, 14, 16, 5],
        borderColor: '#0d6efd',
        backgroundColor: 'rgba(13, 110, 253, 0.1)',
        tension: 0.4,
        fill: true
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          display: false
        }
      },
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
});
</script>
{% endblock %}
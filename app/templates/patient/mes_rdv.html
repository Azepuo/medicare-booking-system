{% extends "patient/base.html" %}
{% block title %}Rendez-vous{% endblock %}
{% set active_page = 'mes_rdv' %}

{% block content %}
<div class="content">
    <div class="container">
        <div class="heade">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
<<<<<<< HEAD
                <h1>Mes Rendez-vous</h1>
=======
                <h1>Historique des Rendez-vous</h1>
>>>>>>> Mariam_Moumen
                <button class="btn-add-appointment" onclick="showAppointmentForm()">
                    <i class="fas fa-plus" style="color: white;"></i> Ajouter un Rendez-vous
                </button>
            </div>

            <div class="filters">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Rechercher par m√©decin, sp√©cialit√© ou date...">
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="tous">Tous</button>
                    <button class="filter-btn" data-filter="confirm√©">Confirm√©s</button>
                    <button class="filter-btn" data-filter="termin√©">Termin√©s</button>
                    <button class="filter-btn" data-filter="annul√©">Annul√©s</button>
<<<<<<< HEAD
                    <button class="filter-btn" data-filter="En attente">En Attente</button>
=======
>>>>>>> Mariam_Moumen
                </div>
            </div>
        </div>

        <div id="stats" class="stats"></div>
<<<<<<< HEAD

        <div id="appointmentsGrid" class="appointments-grid"></div>

        <div id="emptyState" class="empty-state" style="display:none;">
=======
        <div id="appointmentsGrid" class="appointments-grid"></div>

        <div id="emptyState" class="empty-state" style="display: none;">
>>>>>>> Mariam_Moumen
            <div class="empty-state-icon">üìÖ</div>
            <h3>Aucun rendez-vous trouv√©</h3>
            <p>Essayez de modifier vos crit√®res de recherche</p>
        </div>
<<<<<<< HEAD

=======
>>>>>>> Mariam_Moumen
    </div>
</div>

{% include "patient/prise_rdv.html" %}
<<<<<<< HEAD

{% endblock %}

{% block scripts %}
<script>
    const specialisations = {{ specialisations|tojson }};
    
    const appointments = [
        {% for rdv in upcoming_appointments %}
        {
            id: {{ rdv.id }},
            medecin_id: {{ rdv.medecin_id }},
            medecin_name: "{{ rdv.medecin_nom }}",
            medecin_spec: "{{ rdv.specialite }}",
            date: "{{ rdv.date_only }}",
            time: "{{ rdv.time_only }}",
            clinic: "{{ rdv.clinic or '' }}",
            status: "{{ rdv.statut }}",
            notes: {{ rdv.notes|tojson if rdv.notes else '""' }}
        }{% if not loop.last %},{% endif %}
        {% endfor %}
    ];
    
    console.log('üìã Appointments charg√©s:', appointments);
    console.log('üîç Exemple d\'heure:', appointments.length > 0 ? appointments[0].time : 'Aucun RDV');
    console.log('üè• Sp√©cialisations:', specialisations);
</script>

<script src="{{ url_for('static', filename='js/patient.js') }}"></script>
{% endblock %}
=======
{% endblock %}
<script>
    document.getElementById("welcome-title")
</script>
>>>>>>> Mariam_Moumen
